# 初級 R 語言期末專題

## 一、專題名稱：打工薪資預估與統計分析工具

## 二、專題介紹

以 R 語言與 Shiny 架構所製作的網頁，協助打工族群記錄每日出勤狀況，並依據《勞基法》計算合理工資與加班費。透過視覺化的統計圖表，使用者可以清楚掌握每週、每月的薪資變化，達到更有效的時間管理與財務規劃。

## 三、專題製作動機

公司常不開放權限讓 PT 查看上下班打卡記錄及人資資料。在打工時，我希望能預先估算薪資。透過小工具輸入上下班與休息時間，設定本薪即可估算每日及整月薪資。  
對多數打工學生而言，工時與薪資估算多靠紙本或記憶，容易遺漏且無法正確核算加班費。希望透過簡單的工具，讓使用者輸入出勤資料時即時得出薪資統計與加班費明細，提升金錢掌握與財務規劃能力。

## 四、專題操作說明

1. 進入主畫面後，設定時薪、加班倍數與出勤時間。
2. 選擇「新增」或「編輯」模式，按下「執行」按鈕儲存資料。
3. 當輸入日期重複時，系統將自動提示，避免重複新增。
4. 切換至「統計圖表」頁面，查看每週與每月的薪資變化。
5. 資料可下載成 `.csv` 檔案，方便備份與整理。

## 五、專題程式流程

### 安裝與載入套件

| 套件名稱         | 功能說明                                   |
| ---------------- | ------------------------------------------ |
| `shiny`          | 建立互動式網頁應用程式的主套件             |
| `shinydashboard` | 提供儀表板式頁面佈局，適合報表和工具介面   |
| `DT`             | 提供互動式表格（DataTables）的功能         |
| `lubridate`      | 處理日期與時間，例如加減天數、判斷星期幾等 |
| `shinyTime`      | 提供時間輸入元件，例如時鐘式輸入           |
| `ggplot2`        | 製作統計圖表，如長條圖、折線圖等           |
| `dplyr`          | 資料處理：篩選、分組、加總等操作           |

### 資料輸入與驗證

- 使用 `numericInput`、`timeInput`、`dateInput` 輸入資訊。
- 程式會判斷是否有重複日期以避免資料重複。

### 薪資邏輯計算

- 根據是否為平日、第六日或例假日採不同加班倍數。
- 自動計算實際工作時數與應得薪資。

### 資料儲存與顯示

- 使用 `reactiveVal()` 動態儲存資料框。
- 表格即時顯示，並累計總工時與總薪資。

### 視覺化圖表

- 使用 `ggplot2` 依週與月分組繪製薪資長條圖。

### CSV 下載功能

- 使用 `downloadHandler()` 下載 UTF-8 編碼 `.csv` 檔案，內含總結列。

## 六、Shiny 架構

### 1. 使用者介面（UI）

- Header：顯示標題與功能
- Sidebar：切換分頁
- Body：輸入區、表格區、圖表區

### 2. 伺服端邏輯（Server）

- `reactiveVal()` 儲存輸入紀錄。
- 根據日期判斷平日/假日，套用不同倍數。
- `observeEvent()` 監聽按鈕觸發，進行計算與儲存。
- `renderTable()`、`renderPlot()` 動態更新表格與圖表。

### 3. 應用執行（shinyApp）

- 將 UI 與 Server 組合執行。

## 七、結論

本專題結合資料輸入、邏輯運算與圖表視覺化，透過網頁呈現出一套實用直觀的薪資紀錄系統。不僅能即時回饋資訊，也幫助使用者更了解工時與勞動法規。開發過程中熟悉了 R 語言在資料處理與 Shiny 架構應用，並學會設計使用者介面與錯誤處理邏輯。薪資估算不再需人工計算，只需輸入時間即可得知薪資。

## 八、附錄

### 使用技術：

- R 語言
- Shiny
- shinydashboard
- shinyTime
- ggplot2
- dplyr
- lubridate

### 加班費計算依據：

依據《勞動基準法》第 24 條規定：

- 平日超過 8 小時，以 1.33 或 1.66 倍計算
- 第六日以 2.66 倍起跳
